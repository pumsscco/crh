# CRH
利用19年的最后一周，与20年的第一周，这一阳历跨年的时间段，完成了pal4的重构，借由其总结的经验教训，重新回归crh项目的编写

* 经测试，追加了redis缓存后，性能还是很好的，缓存大的数据并没有问题

## 文件说明

* 主程序入口：main.go
* 路由文件：routes.go
* 组合技：combo.go
* 武功文件：fighter.go
* 物品文件：item.go
* 敌人信息：enemy.go
* 任务文件：mission.go
* 角色默认值：role.go
* 工具杂烩：utils.go
* 模板目录：templates
* 静态目录：static

## 心得
以下总结所有表的分析结果

* kindle1表，基本上上id与model是一对一的，但薛家四王用了参帮弟子的模型，而曹师傅用了杀手2的，这是仅有的两个特例
* 内外功合并，但按内外功分类显示，其中外功再分四类：怒技、情侣合技、组合技、普通技
* 物品与武功秘籍：基本上保留的位置，其说明均是楚留香三个字或是留空，但三姝的自带技能，属特例，不能依据此方法予以去除
* 任务表最后两个字段看上去像是起始与结束的某种标志，但并不精准，时常胡乱跳，因此没有实际价值
* SPKindle2是角色的普通攻击方式的详表，需要在敌人信息表中得到体现
* 敌人信息过多，为表格显示效果考虑，按种族分3类显示：男性、女性、其它
* 此处偷窃相当特别，除物品ID外，还有数量与概率两栏
* 物品：由于所有类别均在一张表里，因此字段含义并不唯一，具体如下：
* 剑、短剑、佩饰有特殊效果，需要列出调用函数与调用参数；武功的字段含义不同，需要额外标识；
* 暗器无三基本项外的内容；食材、丹药只有价格；装备有属性、价格与可用角色三项统一的可用段
* 食物只有属性，但字段内容与装备不同